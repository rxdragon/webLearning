# CSS3 Transform

一开始用position

| fixed | 生成绝对定位的元素，相对于浏览器窗口进行定位。元素的位置通过 "left", "top", "right" 以及 "bottom" 属性进行规定。 |
| ----- | ------------------------------------------------------------ |
|       | 效率很差                                                     |

然后用transform

| **Type**                                                     | **Func**                      |
| ------------------------------------------------------------ | ----------------------------- |
| Position 位置                                                | transform: translate(-px,-px) |
| Scale 缩放                                                   | transform: scale(-)           |
| Rotation 旋转                                                | transform: rotate(-deg)       |
| Skew 斜拉                                                    | transform: skew(X/Y)(-deg)    |
| Matrix ![transform属性方法本质实现 张鑫旭-鑫空间-鑫生活](http://image.zhangxinxu.com/image/blog/201206/matrix-skew-scale-rotate-translate.gif) | transform: matrix(3d)(..)     |
| Opacity 不透明度                                             | opacity: 0-1                  |

# [小程序运行机制](https://segmentfault.com/a/1190000019131399)

- 使用客户端提供的JavaScript引擎, 沙箱只是单纯的提供JavaScript解释环境, 没有浏览器任何接口
- 小程序的基础库分别注入到视图层和逻辑层运行
  - 视图层: 提供各类组件来组建界面
  - 逻辑层: 提供各种API来处理逻辑
  - 处理数据绑定, 组件系统, 事件系统, 通信系统等一系列框架
  - 基础库不会打包到某个小程序代码, 会提前内置在微信客户端
- 基于[shadow dom](https://developer.mozilla.org/en-US/docs/Web/Web_Components/Using_shadow_DOM)模型
- 启动机制
  - 热启动: 打开过小程序, 在一定时间内再次打开
  - 冷启动: 首次打开或者被微信销毁后打开
  - 没有重启概念
  - 进入后台后, 维持一段时间的运行后被销毁, 目前是五分钟.
  - 短时间(5s), 连续收到两次系统内存告警, 会进行小程序销毁.
- 更新机制
  - 冷加载读取缓存/检查更新
  - 热加载直接后台切前台
  - 冷启动时发现有新版本, 会异步下载新版本的代码包, 并同时用客户端本地的包进行启动
  - 即新版小程序发布后, 需要经历两次冷启动, 才会应用
  - 如果需要新版本, 可以使用指定API进行更新
- ![启动与更新机制](https://segmentfault.com/img/bVbsq3u?w=826&h=429)
- setData
  - webview和jsCore是单独模块
  - 两边都通过evaluateJavaScript实现, 即用户传输的数据.
  - 需要将其转换成一份JS脚本, 通过执行脚本进行执行
  - ![image-20210319214104951](https://cdn.jsdelivr.net/gh/rxdragon/webLearning/img/image-20210319214104951.png)